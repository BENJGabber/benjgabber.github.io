<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Mon Portfolio</title>
    <link rel="stylesheet" href="../style.css" />
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo"><a href="../index.html">Mon Portfolio</a></div>
            <ul class="nav-links" id="navLinks">
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="../index.html#apropos">√Ä propos</a></li>
                <li><a href="../formation/formation.html">Parcours et Experiences</a></li>
                <li><a href="../forum/forum.html">Articles</a></li>
                <li><a href="#">Contact</a></li>
                <button class="theme-toggle" id="themeToggle" aria-label="Changer de th√®me">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </ul>
            <div class="menu-toggle" id="menuToggle">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </nav>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <ul class="side-nav-links">
            <li><a href="../index.html">Accueil</a></li>
            <li><a href="../index.html#apropos">√Ä propos</a></li>
            <li><a href="../formation/formation.html">Parcours et Experiences</a></li>
            <li><a href="../forum/forum.html">Articles</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </div>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h1 class="section-title">Contactez-moi</h1>
            <p class="section-subtitle">Une question ? Un projet ? N'h√©sitez pas √† me contacter !</p>

            <div class="contact-grid">
                <!-- Formulaire de contact -->
                <div class="contact-form-container">
                    <h3>üì® Envoyez-moi un message</h3>

                    <!-- Message de succ√®s/erreur -->
                    <div class="message success" id="successMessage">
                        ‚úÖ Message envoy√© avec succ√®s ! Je vous r√©pondrai rapidement.
                    </div>
                    <div class="message error" id="errorMessage">
                        ‚ùå Une erreur s'est produite. Veuillez r√©essayer.
                    </div>

                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Nom complet *</label>
                            <input type="text" id="name" name="name" placeholder="Votre nom" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="email" placeholder="votre@email.com" required>
                        </div>

                        <div class="form-group">
                            <label for="subject">Sujet *</label>
                            <input type="text" id="subject" name="subject" placeholder="Sujet de votre message" required>
                        </div>

                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" placeholder="Votre message..." required></textarea>
                        </div>

                        <button type="submit" class="submit-btn" id="submitBtn">
                            <span>Envoyer le message</span>
                            <span>‚úâÔ∏è</span>
                        </button>
                    </form>
                </div>

                <!-- Informations de contact -->
                <div class="contact-info-container">
                    <!-- Coordonn√©es -->
                    <div class="contact-info-card">
                        <h4>üìû Mes coordonn√©es</h4>
                        <div class="contact-item">
                            <div class="contact-icon">üìß</div>
                            <div class="contact-item-content">
                                <div class="contact-item-label">Email</div>
                                <div class="contact-item-value">
                                    <a href="mailto:benbenjamin3005@gmail.com">benbenjamin3005@gmail.com</a>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">üì±</div>
                            <div class="contact-item-content">
                                <div class="contact-item-label">T√©l√©phone</div>
                                <div class="contact-item-value">
                                    <a href="tel:+33766739614">+33 7 66 73 96 14</a>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">üìç</div>
                            <div class="contact-item-content">
                                <div class="contact-item-label">Localisation</div>
                                <div class="contact-item-value">Auberchicourt, Nord</div>
                            </div>
                        </div>
                    </div>

                    <!-- R√©seaux sociaux -->
                    <div class="contact-info-card">
                        <h4>üåê R√©seaux sociaux</h4>
                        <div class="social-links">
                            <a href="https://linkedin.com" target="_blank" class="social-btn">
                                <span>üíº</span>
                                <span>LinkedIn</span>
                            </a>
                            <a href="https://github.com" target="_blank" class="social-btn">
                                <span>üíª</span>
                                <span>GitHub</span>
                            </a>
                        </div>
                    </div>

                    <!-- T√©l√©charger CV -->
                    <div class="download-cv">
                        <h4>üìÑ Mon CV</h4>
                        <p>T√©l√©chargez mon CV complet au format PDF</p>
                        <a href="./CV.pdf" class="cv-btn" download>
                            <span>‚¨áÔ∏è</span>
                            <span>T√©l√©charger mon CV</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Script EmailJS et formulaire -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // Initialisation EmailJS
        emailjs.init('t107x92N4c4V7GGX0');

        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');

        const EMAIL_SERVICE_ID = 'service_7n8wk97';
        const TEMPLATE_RECEPTION_ID = 'template_lpd0e4d';
        const TEMPLATE_AUTOREPLY_ID = 'template_44urjvt';

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span>Envoi en cours...</span><span>‚è≥</span>';
            successMessage.classList.remove('show');
            errorMessage.classList.remove('show');

            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                title: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };

            try {
                // 1. Vous recevez le message (utilisez les M√äMES noms que dans votre template)
                await emailjs.send(EMAIL_SERVICE_ID, TEMPLATE_RECEPTION_ID, {
                    name: formData.name, // ‚úÖ Correspond √† {{name}}
                    email: formData.email, // ‚úÖ Correspond √† {{email}}
                    title: formData.title, // ‚úÖ Correspond √† {{title}}
                    message: formData.message // ‚úÖ Correspond √† {{message}}
                });

                // 2. L'exp√©diteur re√ßoit l'auto-reply
                await emailjs.send(EMAIL_SERVICE_ID, TEMPLATE_AUTOREPLY_ID, formData);

                successMessage.classList.add('show');
                contactForm.reset();
                setTimeout(() => successMessage.classList.remove('show'), 5000);
            } catch (error) {
                errorMessage.classList.add('show');
                console.error('Erreur EmailJS:', error);
                setTimeout(() => errorMessage.classList.remove('show'), 5000);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<span>Envoyer le message</span><span>‚úâÔ∏è</span>';
            }
        });
    </script>
</body>

</html>